---
title: "ADR-002: Using ASCII Art Instead of Mermaid for Architecture Diagrams"
description: "Why ASCII diagrams were chosen over Mermaid for architecture visualization"
status: "accepted"
decisionDate: 2024-12-05
---

<span class="adr-status accepted">Accepted</span>

## Context

The case studies require architecture diagrams to communicate:

- VPC network topologies
- IAM workflow state machines
- System component relationships
- Data flow sequences

Options considered:
1. **Mermaid.js** — Markdown-based diagram syntax
2. **Draw.io/Excalidraw** — Visual editors exporting images
3. **ASCII art** — Text-based diagrams in code blocks
4. **Custom SVG** — Hand-crafted vector graphics

## Decision

Use **ASCII art diagrams** within code blocks for architecture visualization.

## Rationale

### Why Not Mermaid?

While Mermaid is powerful, it presented challenges:

1. **Styling conflicts** — Mermaid's default theme clashed with dark mode
2. **Limited layout control** — Complex VPC diagrams looked cramped
3. **Rendering inconsistency** — Different behavior in development vs production
4. **Bundle size** — Mermaid adds ~500KB to the client bundle

### Why ASCII Art Works

| Benefit | Explanation |
|---------|-------------|
| **Zero dependencies** | No JavaScript required, pure text |
| **Perfect dark mode** | Inherits code block styling automatically |
| **Copy-pasteable** | Engineers can copy diagrams to their own docs |
| **Git-friendly** | Diffs show exactly what changed |
| **Fast rendering** | No client-side processing |

### Trade-offs

| Pros | Cons |
|------|------|
| ✅ Consistent styling | ❌ More effort to create |
| ✅ Zero runtime cost | ❌ No interactivity |
| ✅ Works in any terminal | ❌ Limited graphical richness |
| ✅ Accessible text | ❌ Complex diagrams can be verbose |

## Example Implementation

### Three-Tier VPC Diagram

```
┌─────────────────────────────────────────────────────────────┐
│                        AWS VPC (10.0.0.0/16)                │
├─────────────────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────────────────┐  │
│  │          PUBLIC TIER (10.0.1.0/24)                    │  │
│  │    ┌─────────────┐         ┌─────────────┐            │  │
│  │    │ Bastion Host│         │ NAT Gateway │            │  │
│  │    └──────┬──────┘         └──────┬──────┘            │  │
│  └───────────┼───────────────────────┼───────────────────┘  │
│              │                       │                      │
│  ┌───────────┼───────────────────────┼───────────────────┐  │
│  │           │    PRIVATE TIER       │                   │  │
│  │           ▼                       │                   │  │
│  │    ┌─────────────┐                │                   │  │
│  │    │ ECS Fargate │────────────────┘                   │  │
│  │    └──────┬──────┘                                    │  │
│  └───────────┼───────────────────────────────────────────┘  │
│              │                                              │
│  ┌───────────┼───────────────────────────────────────────┐  │
│  │           │    ISOLATED TIER                          │  │
│  │           ▼                                           │  │
│  │    ┌─────────────┐                                    │  │
│  │    │   RDS DB    │                                    │  │
│  │    └─────────────┘                                    │  │
│  └───────────────────────────────────────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

## Consequences

### Positive

- All diagrams render identically in dev and production
- No Mermaid configuration debugging
- Faster page loads
- Diagrams work in GitHub README files too

### Negative

- Creating complex diagrams requires more time
- No automatic layout — manual positioning required
- Updates require careful editing to maintain alignment

## Tools for Creating ASCII Diagrams

1. **ASCIIFlow** (asciiflow.com) — Online drag-and-drop editor
2. **Monodraw** (macOS) — Professional ASCII art application
3. **vim + draw.vim** — For terminal enthusiasts

## Related Decisions

- [ADR-001: Astro Starlight](/decision-logs/adr-001-astro-starlight/) — Framework choice enabling code blocks
- [ADR-005: Dark Theme](/decision-logs/adr-005-dark-theme/) — Theme that ASCII diagrams inherit

